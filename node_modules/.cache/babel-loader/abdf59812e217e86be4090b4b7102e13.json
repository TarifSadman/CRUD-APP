{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"getContainer\", \"motion\", \"prefixCls\", \"maxCount\", \"className\", \"style\", \"onAllRemoved\", \"renderNotifications\"];\nimport * as React from 'react';\nimport Notifications from \"./Notifications\";\n\nvar defaultGetContainer = function defaultGetContainer() {\n  return document.body;\n};\n\nvar uniqueKey = 0;\n\nfunction mergeConfig() {\n  var clone = {};\n\n  for (var _len = arguments.length, objList = new Array(_len), _key = 0; _key < _len; _key++) {\n    objList[_key] = arguments[_key];\n  }\n\n  objList.forEach(function (obj) {\n    if (obj) {\n      Object.keys(obj).forEach(function (key) {\n        var val = obj[key];\n\n        if (val !== undefined) {\n          clone[key] = val;\n        }\n      });\n    }\n  });\n  return clone;\n}\n\nexport default function useNotification() {\n  var rootConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _rootConfig$getContai = rootConfig.getContainer,\n      getContainer = _rootConfig$getContai === void 0 ? defaultGetContainer : _rootConfig$getContai,\n      motion = rootConfig.motion,\n      prefixCls = rootConfig.prefixCls,\n      maxCount = rootConfig.maxCount,\n      className = rootConfig.className,\n      style = rootConfig.style,\n      onAllRemoved = rootConfig.onAllRemoved,\n      renderNotifications = rootConfig.renderNotifications,\n      shareConfig = _objectWithoutProperties(rootConfig, _excluded);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      container = _React$useState2[0],\n      setContainer = _React$useState2[1];\n\n  var notificationsRef = React.useRef();\n  var contextHolder = /*#__PURE__*/React.createElement(Notifications, {\n    container: container,\n    ref: notificationsRef,\n    prefixCls: prefixCls,\n    motion: motion,\n    maxCount: maxCount,\n    className: className,\n    style: style,\n    onAllRemoved: onAllRemoved,\n    renderNotifications: renderNotifications\n  });\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      taskQueue = _React$useState4[0],\n      setTaskQueue = _React$useState4[1]; // ========================= Refs =========================\n\n\n  var api = React.useMemo(function () {\n    return {\n      open: function open(config) {\n        var mergedConfig = mergeConfig(shareConfig, config);\n\n        if (mergedConfig.key === null || mergedConfig.key === undefined) {\n          mergedConfig.key = \"rc-notification-\".concat(uniqueKey);\n          uniqueKey += 1;\n        }\n\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'open',\n            config: mergedConfig\n          }]);\n        });\n      },\n      close: function close(key) {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'close',\n            key: key\n          }]);\n        });\n      },\n      destroy: function destroy() {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'destroy'\n          }]);\n        });\n      }\n    };\n  }, []); // ======================= Container ======================\n  // React 18 should all in effect that we will check container in each render\n  // Which means getContainer should be stable.\n\n  React.useEffect(function () {\n    setContainer(getContainer());\n  }); // ======================== Effect ========================\n\n  React.useEffect(function () {\n    // Flush task when node ready\n    if (notificationsRef.current && taskQueue.length) {\n      taskQueue.forEach(function (task) {\n        switch (task.type) {\n          case 'open':\n            notificationsRef.current.open(task.config);\n            break;\n\n          case 'close':\n            notificationsRef.current.close(task.key);\n            break;\n\n          case 'destroy':\n            notificationsRef.current.destroy();\n            break;\n        }\n      }); // React 17 will mix order of effect & setState in async\n      // - open: setState[0]\n      // - effect[0]\n      // - open: setState[1]\n      // - effect setState([]) * here will clean up [0, 1] in React 17\n\n      setTaskQueue(function (oriQueue) {\n        return oriQueue.filter(function (task) {\n          return !taskQueue.includes(task);\n        });\n      });\n    }\n  }, [taskQueue]); // ======================== Return ========================\n\n  return [api, contextHolder];\n}","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","_objectWithoutProperties","_excluded","React","Notifications","defaultGetContainer","document","body","uniqueKey","mergeConfig","clone","_len","arguments","length","objList","Array","_key","forEach","obj","Object","keys","key","val","undefined","useNotification","rootConfig","_rootConfig$getContai","getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","renderNotifications","shareConfig","_React$useState","useState","_React$useState2","container","setContainer","notificationsRef","useRef","contextHolder","createElement","ref","_React$useState3","_React$useState4","taskQueue","setTaskQueue","api","useMemo","open","config","mergedConfig","concat","queue","type","close","destroy","useEffect","current","task","oriQueue","filter","includes"],"sources":["/mnt/c/Users/Admin/crud-app/node_modules/rc-notification/es/useNotification.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"getContainer\", \"motion\", \"prefixCls\", \"maxCount\", \"className\", \"style\", \"onAllRemoved\", \"renderNotifications\"];\nimport * as React from 'react';\nimport Notifications from \"./Notifications\";\nvar defaultGetContainer = function defaultGetContainer() {\n  return document.body;\n};\nvar uniqueKey = 0;\nfunction mergeConfig() {\n  var clone = {};\n  for (var _len = arguments.length, objList = new Array(_len), _key = 0; _key < _len; _key++) {\n    objList[_key] = arguments[_key];\n  }\n  objList.forEach(function (obj) {\n    if (obj) {\n      Object.keys(obj).forEach(function (key) {\n        var val = obj[key];\n        if (val !== undefined) {\n          clone[key] = val;\n        }\n      });\n    }\n  });\n  return clone;\n}\nexport default function useNotification() {\n  var rootConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _rootConfig$getContai = rootConfig.getContainer,\n    getContainer = _rootConfig$getContai === void 0 ? defaultGetContainer : _rootConfig$getContai,\n    motion = rootConfig.motion,\n    prefixCls = rootConfig.prefixCls,\n    maxCount = rootConfig.maxCount,\n    className = rootConfig.className,\n    style = rootConfig.style,\n    onAllRemoved = rootConfig.onAllRemoved,\n    renderNotifications = rootConfig.renderNotifications,\n    shareConfig = _objectWithoutProperties(rootConfig, _excluded);\n  var _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    container = _React$useState2[0],\n    setContainer = _React$useState2[1];\n  var notificationsRef = React.useRef();\n  var contextHolder = /*#__PURE__*/React.createElement(Notifications, {\n    container: container,\n    ref: notificationsRef,\n    prefixCls: prefixCls,\n    motion: motion,\n    maxCount: maxCount,\n    className: className,\n    style: style,\n    onAllRemoved: onAllRemoved,\n    renderNotifications: renderNotifications\n  });\n  var _React$useState3 = React.useState([]),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    taskQueue = _React$useState4[0],\n    setTaskQueue = _React$useState4[1];\n\n  // ========================= Refs =========================\n  var api = React.useMemo(function () {\n    return {\n      open: function open(config) {\n        var mergedConfig = mergeConfig(shareConfig, config);\n        if (mergedConfig.key === null || mergedConfig.key === undefined) {\n          mergedConfig.key = \"rc-notification-\".concat(uniqueKey);\n          uniqueKey += 1;\n        }\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'open',\n            config: mergedConfig\n          }]);\n        });\n      },\n      close: function close(key) {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'close',\n            key: key\n          }]);\n        });\n      },\n      destroy: function destroy() {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'destroy'\n          }]);\n        });\n      }\n    };\n  }, []);\n\n  // ======================= Container ======================\n  // React 18 should all in effect that we will check container in each render\n  // Which means getContainer should be stable.\n  React.useEffect(function () {\n    setContainer(getContainer());\n  });\n\n  // ======================== Effect ========================\n  React.useEffect(function () {\n    // Flush task when node ready\n    if (notificationsRef.current && taskQueue.length) {\n      taskQueue.forEach(function (task) {\n        switch (task.type) {\n          case 'open':\n            notificationsRef.current.open(task.config);\n            break;\n          case 'close':\n            notificationsRef.current.close(task.key);\n            break;\n          case 'destroy':\n            notificationsRef.current.destroy();\n            break;\n        }\n      });\n\n      // React 17 will mix order of effect & setState in async\n      // - open: setState[0]\n      // - effect[0]\n      // - open: setState[1]\n      // - effect setState([]) * here will clean up [0, 1] in React 17\n      setTaskQueue(function (oriQueue) {\n        return oriQueue.filter(function (task) {\n          return !taskQueue.includes(task);\n        });\n      });\n    }\n  }, [taskQueue]);\n\n  // ======================== Return ========================\n  return [api, contextHolder];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}