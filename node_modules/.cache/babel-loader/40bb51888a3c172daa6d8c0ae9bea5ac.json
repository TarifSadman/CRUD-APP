{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useMergedState } from 'rc-util';\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\n/**\n * 1. Click input to show picker\n * 2. Calculate next open index\n *\n * If click `confirm`:\n * 3. Hide current picker\n * 4. Open next index picker if exist\n *\n * If not `changeOnBlur` and click outside:\n * 3. Hide picker\n *\n * If `changeOnBlur` and click outside:\n * 3. Hide current picker\n * 4. Open next index picker if exist\n */\n\n/**\n * Auto control of open state\n */\n\nexport default function useRangeOpen(defaultOpen, open, activePickerIndex, changeOnBlur, startInputRef, endInputRef, startSelectedValue, endSelectedValue, disabled, onOpenChange) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstTimeOpen = _React$useState2[0],\n      setFirstTimeOpen = _React$useState2[1];\n\n  var _useMergedState = useMergedState(defaultOpen || false, {\n    value: open\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      afferentOpen = _useMergedState2[0],\n      setAfferentOpen = _useMergedState2[1];\n\n  var _useMergedState3 = useMergedState(defaultOpen || false, {\n    value: open,\n    onChange: function onChange(nextOpen) {\n      onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(nextOpen);\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedOpen = _useMergedState4[0],\n      setMergedOpen = _useMergedState4[1];\n\n  var _useMergedState5 = useMergedState(0, {\n    value: activePickerIndex\n  }),\n      _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n      mergedActivePickerIndex = _useMergedState6[0],\n      setMergedActivePickerIndex = _useMergedState6[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      nextActiveIndex = _React$useState4[0],\n      setNextActiveIndex = _React$useState4[1];\n\n  React.useEffect(function () {\n    if (mergedOpen) {\n      setFirstTimeOpen(true);\n    }\n  }, [mergedOpen]);\n\n  var queryNextIndex = function queryNextIndex(index) {\n    return index === 0 ? 1 : 0;\n  };\n\n  var triggerOpen = useEvent(function (nextOpen, index, source) {\n    if (index === false) {\n      // Only when `nextOpen` is false and no need open to next index\n      setMergedOpen(nextOpen);\n    } else if (nextOpen) {\n      setMergedActivePickerIndex(index);\n      setMergedOpen(nextOpen);\n      var nextIndex = queryNextIndex(index); // Record next open index\n\n      if (!mergedOpen || // Also set next index if next is empty\n      ![startSelectedValue, endSelectedValue][nextIndex]) {\n        setNextActiveIndex(nextIndex);\n      } else {\n        setFirstTimeOpen(false);\n\n        if (nextActiveIndex !== null) {\n          setNextActiveIndex(null);\n        }\n      }\n    } else if (source === 'confirm' || source === 'blur' && changeOnBlur) {\n      var customNextActiveIndex = afferentOpen ? queryNextIndex(index) : nextActiveIndex;\n\n      if (customNextActiveIndex !== null) {\n        setFirstTimeOpen(false);\n        setMergedActivePickerIndex(customNextActiveIndex);\n      }\n\n      setNextActiveIndex(null); // Focus back\n\n      if (customNextActiveIndex !== null && !disabled[customNextActiveIndex]) {\n        raf(function () {\n          var _ref$current;\n\n          var ref = [startInputRef, endInputRef][customNextActiveIndex];\n          (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.focus();\n        });\n      } else {\n        setMergedOpen(false);\n      }\n    } else {\n      setMergedOpen(false);\n      setAfferentOpen(false);\n    }\n  });\n  return [mergedOpen, mergedActivePickerIndex, firstTimeOpen, triggerOpen];\n}","map":{"version":3,"names":["_slicedToArray","useMergedState","useEvent","raf","React","useRangeOpen","defaultOpen","open","activePickerIndex","changeOnBlur","startInputRef","endInputRef","startSelectedValue","endSelectedValue","disabled","onOpenChange","_React$useState","useState","_React$useState2","firstTimeOpen","setFirstTimeOpen","_useMergedState","value","_useMergedState2","afferentOpen","setAfferentOpen","_useMergedState3","onChange","nextOpen","_useMergedState4","mergedOpen","setMergedOpen","_useMergedState5","_useMergedState6","mergedActivePickerIndex","setMergedActivePickerIndex","_React$useState3","_React$useState4","nextActiveIndex","setNextActiveIndex","useEffect","queryNextIndex","index","triggerOpen","source","nextIndex","customNextActiveIndex","_ref$current","ref","current","focus"],"sources":["/mnt/c/Users/Admin/crud-app/node_modules/rc-picker/es/hooks/useRangeOpen.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useMergedState } from 'rc-util';\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\n\n/**\n * 1. Click input to show picker\n * 2. Calculate next open index\n *\n * If click `confirm`:\n * 3. Hide current picker\n * 4. Open next index picker if exist\n *\n * If not `changeOnBlur` and click outside:\n * 3. Hide picker\n *\n * If `changeOnBlur` and click outside:\n * 3. Hide current picker\n * 4. Open next index picker if exist\n */\n\n/**\n * Auto control of open state\n */\nexport default function useRangeOpen(defaultOpen, open, activePickerIndex, changeOnBlur, startInputRef, endInputRef, startSelectedValue, endSelectedValue, disabled, onOpenChange) {\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    firstTimeOpen = _React$useState2[0],\n    setFirstTimeOpen = _React$useState2[1];\n  var _useMergedState = useMergedState(defaultOpen || false, {\n      value: open\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    afferentOpen = _useMergedState2[0],\n    setAfferentOpen = _useMergedState2[1];\n  var _useMergedState3 = useMergedState(defaultOpen || false, {\n      value: open,\n      onChange: function onChange(nextOpen) {\n        onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(nextOpen);\n      }\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    mergedOpen = _useMergedState4[0],\n    setMergedOpen = _useMergedState4[1];\n  var _useMergedState5 = useMergedState(0, {\n      value: activePickerIndex\n    }),\n    _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n    mergedActivePickerIndex = _useMergedState6[0],\n    setMergedActivePickerIndex = _useMergedState6[1];\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    nextActiveIndex = _React$useState4[0],\n    setNextActiveIndex = _React$useState4[1];\n  React.useEffect(function () {\n    if (mergedOpen) {\n      setFirstTimeOpen(true);\n    }\n  }, [mergedOpen]);\n  var queryNextIndex = function queryNextIndex(index) {\n    return index === 0 ? 1 : 0;\n  };\n  var triggerOpen = useEvent(function (nextOpen, index, source) {\n    if (index === false) {\n      // Only when `nextOpen` is false and no need open to next index\n      setMergedOpen(nextOpen);\n    } else if (nextOpen) {\n      setMergedActivePickerIndex(index);\n      setMergedOpen(nextOpen);\n      var nextIndex = queryNextIndex(index);\n\n      // Record next open index\n      if (!mergedOpen ||\n      // Also set next index if next is empty\n      ![startSelectedValue, endSelectedValue][nextIndex]) {\n        setNextActiveIndex(nextIndex);\n      } else {\n        setFirstTimeOpen(false);\n        if (nextActiveIndex !== null) {\n          setNextActiveIndex(null);\n        }\n      }\n    } else if (source === 'confirm' || source === 'blur' && changeOnBlur) {\n      var customNextActiveIndex = afferentOpen ? queryNextIndex(index) : nextActiveIndex;\n      if (customNextActiveIndex !== null) {\n        setFirstTimeOpen(false);\n        setMergedActivePickerIndex(customNextActiveIndex);\n      }\n      setNextActiveIndex(null);\n\n      // Focus back\n      if (customNextActiveIndex !== null && !disabled[customNextActiveIndex]) {\n        raf(function () {\n          var _ref$current;\n          var ref = [startInputRef, endInputRef][customNextActiveIndex];\n          (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.focus();\n        });\n      } else {\n        setMergedOpen(false);\n      }\n    } else {\n      setMergedOpen(false);\n      setAfferentOpen(false);\n    }\n  });\n  return [mergedOpen, mergedActivePickerIndex, firstTimeOpen, triggerOpen];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}